<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Admin</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<style>
  body { min-height: 100vh; display: flex; }
  #sidebar { width: 220px; background: #343a40; color: #fff; }
  #sidebar a { color: #fff; text-decoration: none; }
  #sidebar a.active { background: #495057; }
  #main { flex: 1; padding: 20px; }
  .cursor-pointer { cursor: pointer; }
  .logout-btn { margin-top: auto; }
</style>
</head>
<body>

<script src="/TALLER/aura-realty/frontend/js/session.js"></script>
<!-- si tienes un auth.js separado, puede cargarse después -->
<script src="/TALLER/aura-realty/frontend/js/auth.js"></script>

<!-- Sidebar -->
<div id="sidebar" class="d-flex flex-column p-3">
  <h4 class="mb-4">Admin Dashboard</h4>
  <ul class="nav flex-column mb-4">
    <li class="nav-item mb-2"><a href="usuarios.html" class="nav-link">Usuarios</a></li>
    <li class="nav-item mb-2"><a href="propiedades.html" class="nav-link">Propiedades</a></li>
    <li class="nav-item mb-2"><a href="solicitudes.html" class="nav-link">Solicitudes</a></li>
    <li class="nav-item mb-2"><a href="citas.html" class="nav-link">Citas</a></li>
  </ul>
  <!-- Botón de logout -->
  <button id="logoutBtn" class="btn btn-danger logout-btn">
      <i class="fas fa-sign-out-alt"></i> Cerrar sesión
  </button>
</div>

<!-- Main -->
<div id="main">
  <h3>Bienvenido al Dashboard Admin</h3>
  <p>Seleccione una sección desde el menú lateral para gestionar el sistema.</p>
</div>


<script>
  // Validar que el usuario sea ADMIN (esto ejecuta la función unificada)
  checkAuth("admin");
</script>

<script>
  // Logout
  document.getElementById("logoutBtn").addEventListener("click", () => {
      localStorage.removeItem("user");
      window.location.href = "/TALLER/aura-realty/frontend/login.html";
  });
</script>

</body>
</html>
