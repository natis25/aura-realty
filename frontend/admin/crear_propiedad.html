<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Crear Propiedad</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

<h3>Crear Propiedad</h3>

<form id="form">

  <label>Título:</label>
  <input id="titulo" class="form-control mb-2">

  <label>Dirección:</label>
  <input id="direccion" class="form-control mb-2">

  <label>Precio:</label>
  <input id="precio" type="number" class="form-control mb-2">

  <label>Tipo:</label>
  <select id="tipo" class="form-control mb-2">
    <option value="casa">Casa</option>
    <option value="departamento">Departamento</option>
    <option value="terreno">Terreno</option>
  </select>

  <button class="btn btn-success mt-3">Crear Propiedad</button>
</form>

<script>
document.getElementById("form").addEventListener("submit",async e=>{
  e.preventDefault();

  const res = await fetch('/api/propiedades/crear.php',{
    method:'POST',
    headers:{'Content-Type':'application/json','Authorization':'Bearer '+localStorage.getItem('token')},
    body:JSON.stringify({
      titulo:titulo.value,
      direccion:direccion.value,
      precio:precio.value,
      tipo:tipo.value
    })
  });
  const data = await res.json();
  alert(data.mensaje||data.error);
});
</script>

</body>
</html>
